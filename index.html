<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"anewuserxw.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.15.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":"ture","color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="THE WHOLE">
<meta property="og:type" content="website">
<meta property="og:title" content="Healer">
<meta property="og:url" content="https://anewuserxw.github.io/index.html">
<meta property="og:site_name" content="Healer">
<meta property="og:description" content="THE WHOLE">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="WX">
<meta property="article:tag" content="123">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://anewuserxw.github.io/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Healer</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Healer</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">A new look</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">
  <div class="sidebar-inner">   
    <!-- require APlayer -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
    <script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
    <!-- require MetingJS-->
    <script src="https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js"></script> 
    <!--网易云-->   
    <meting-js
         auto="https://y.qq.com/n/ryqq/playlist/8878825426.html#stat=y_new.playlist.pic_click">
    </meting-js>

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="WX"
      src="/images/Lost%20In%20Japan%20(Remix).jpg">
  <p class="site-author-name" itemprop="name">WX</p>
  <div class="site-description" itemprop="description">THE WHOLE</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://leetcode.cn/" title="LeetCode → https:&#x2F;&#x2F;leetcode.cn&#x2F;" rel="noopener me" target="_blank"><i class="fab fa-leetcode fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/yourname" title="StackOverflow → https:&#x2F;&#x2F;stackoverflow.com&#x2F;yourname" rel="noopener me" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://youtube.com/yourname" title="YouTube → https:&#x2F;&#x2F;youtube.com&#x2F;yourname" rel="noopener me" target="_blank"><i class="fab fa-youtube fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/yourname" title="Instagram → https:&#x2F;&#x2F;instagram.com&#x2F;yourname" rel="noopener me" target="_blank"><i class="fab fa-instagram fa-fw"></i></a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://anewuserxw.github.io/2024/06/22/%E6%97%A5%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Lost%20In%20Japan%20(Remix).jpg">
      <meta itemprop="name" content="WX">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="THE WHOLE">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Healer">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/22/%E6%97%A5%E8%AE%B0/" class="post-title-link" itemprop="url">日记</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-22 16:04:47" itemprop="dateCreated datePublished" datetime="2024-06-22T16:04:47+08:00">2024-06-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-06-27 10:32:18" itemprop="dateModified" datetime="2024-06-27T10:32:18+08:00">2024-06-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%97%A5%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">日记</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>9 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="日记"><a href="#日记" class="headerlink" title="日记"></a>日记</h1><h2 id="2024-x2F-06-x2F-22"><a href="#2024-x2F-06-x2F-22" class="headerlink" title="2024&#x2F;06&#x2F;22"></a>2024&#x2F;06&#x2F;22</h2><p>​	活了21岁，好像还是第一次写所谓的日记，以前从不知道为什么会有人喜欢写日记，也不知道为什么今天突然想如此地正式地写一下日记，可能是最近真的太焦虑了，刷抖音说写日记可以缓解焦虑，于是我开始写了，感觉像是和一个人说话一样。焦虑心情烦躁，我觉得是因为之前失恋了，上个月五月二十一号他和我提出了分手，很讽刺的日期，在那之后我也发过很长的小作文，很虚伪，我很想和他和好，但是我却要假惺惺地说我尊重你的选择，我希望你能快乐。我记得我当时想了很久如何该组织我的文字，也很讽刺，他说他不太想回消息了，他说他过得很好，也希望我以后好好的。我们高中就在一起了，五年了，还有三年异地，真心说我真的感觉我有很多地方做得不好，只是结束的有点突然，大概到了六月多号，我真的觉得我已经忘记他了，我都觉得我好渣呀，我其实没有那么爱他，不知道是不是因为之前太忙了，这个礼拜，差不多是前几天，我突然梦到他了，没用任何征兆，就和当初他和我分手一样，梦里面他好像在和他同学说笑，看不起他同学的脸，因为我都没见过，只看得清他的脸，不知道为什么在梦里我很强烈感受到很难受，就像之前在高中他一直和别人讲话不搭理我时，我就会很难过，会哭。我似乎一直有性格问题，说实话除了他我都没有朋友，然后他也不要我了，真的是这几天好像才意识到，或许为什么现在我在写这篇日记的原因，感觉不应该说是日记，只是心里的一些想法，没人诉说，找不到和谁讲了。我这个人好奇怪，似乎除了他，我好像和谁无论男生女生好像是要稍微熟悉一点，只要当对方对我突然熟悉一点，可能在我感觉是那种粘人，但其实只是正常的朋友关系，我似乎都会感到很抵抗，我感到很抗拒，我不想和别人太熟，但是我又很怕孤独，这好像也是为什么我都没朋友的原因，当时分手时他在半夜法律很多消息，应该是早就想好这么说了，说他很难受很痛苦，说他也忍受了很久，他说他和他最好的朋友讲了我们说我们不像是在谈恋爱，我其实有点恍惚，我连朋友都没有，真的好悲哀活的，当时分手时好想找人倾诉，现在也好想找人倾诉，感觉好累活的，不知道为什么这么累了，第一次感觉活得这么失败。下半年十二月我还要考研，他还让我好好备考，说实话我已经好久没复习了，现在每天都是刷手机，真的好累每天。说实话，我真的很想他，很怀恋以前的时光，但是我又告诉我自己这样子是很小丑的，说不定他早已找到了新欢，和别人说着晚安爱你，和别人亲亲抱抱，是的，这真的很小丑。但是真的好难忘记，不知道为什么。我宿舍里唯一个稍微熟一点可以聊天的室友，今天早上也参加培训去了长沙了，估计下学期也不会回来了，早上醒来时就感觉到空虚，感觉真的只有自己一个人了，所有人都走了，之前刷抖音刷到伤感文案，评论都会有自从他离开我以后，我都发现我找不到人讲话了，不知道评论中是不是都是这样还是玩梗，但是好像说的就是我，真的好悲哀。现在宿舍里救我一个人了，大家似乎都有很好的未来很好的目标，似乎只有我还在这浪费时间写着这无用的日记。其实高中时候我就和我同学说过我很想看看我死了别人是什么反应，不知道别人有没有这个想法，我似乎很在意有没有人爱我，从小我就经常被我爸爸说教，很难受，因为一些小事就开始对我说教或着骂我，我感觉我可能从小就很缺爱，才会让我现在这个样子。说实话，我真的很想自杀，可是我真的好怕痛，唯一害怕我的家人，不知道我如果死了他们会不会很伤心，不知道会不会有人爱我，都说要自爱别人才会爱你，但是真的好难，我不知道自己是不是有点抑郁了，但我感觉没有，真希望以后有一天我能够自私一点，能够不想我的家人了，直接离开这个世界，真希望能找到一种不痛的方式帮我解脱，好累，每天浑浑噩噩也不知道自己在干嘛。可能都是失恋的原因吧，感觉唯一的精神寄托和交流没了，或许写日记就是和自己对话吧，不知道有没有用，但我最近真的很焦虑很无助，感觉没有任何的动力，感觉浑身好累，我好想发朋友圈说我要自杀了，希望有人能来拯救我，可是我都没有勇气，真的好累。我可能是真的太想他了，五年的感情真的好难忘记和释怀，我真的以为我只要几天就能忘记的。真的好累，好想有个人来配一下我，或许我真的要去找心理医生了。好累，最近好容易哭，我明明是在看游戏视频，但稍微一走神想到别的，眼泪就流出来了，好奇怪，有时候我又能开怀大笑无忧无虑，早上醒来却觉得空虚至极，不知道怎么了，我好想他，却没任何办法，好想给他发消息，体面地聊一聊，但是我们都没有，就很草草地离场了，感觉好难走出来，好想有人能帮。太累了真的好累。好想自杀，但是又不敢，真的是讽刺，之前一直不理解为何会有人自杀，也不理解会什么不珍惜生命，现在发现也许是那些人太累了而已，我也好累，写不下去了，就先这样吧，希望写日记能帮助我一点吧，你现在好像是我唯一的朋友了。</p>
<h2 id="2024-x2F-06-x2F-23"><a href="#2024-x2F-06-x2F-23" class="headerlink" title="2024&#x2F;06&#x2F;23"></a>2024&#x2F;06&#x2F;23</h2><p>​	好神奇，我今天又做梦了，又梦到wzy了，凌晨四点半就醒了，好困当时，早上八点醒来的时候就已经忘记做的梦是什么了，感觉我记忆力变差了好多。今天又是只有我一个人在寝室，有时候感觉一个人也挺好的，中午只吃了一碗方便面，喝了一瓶饮料，感觉好讽刺，不知道以后的生活是不是也是这样。今年十二月多就要考研了，只有五个月了，感觉考不上了已经，很烦。现在只希望我能早点忘掉过去，让自己活得开心一点，希望明天一切都好。还有好多结课作业要写，好烦。</p>
<h2 id="2024-x2F-06-x2F-24"><a href="#2024-x2F-06-x2F-24" class="headerlink" title="2024&#x2F;06&#x2F;24"></a>2024&#x2F;06&#x2F;24</h2><p>​	今天开始上大作业课了，早上七点多就起来了，好久没去图书馆了，今天早上去图书馆的时候有一种熟悉又陌生的感觉。上午上完课，下午就去图书馆了，学了一会，我去剪了个头发，剪得我好丑，虽然我本来就长得不好看，但是这理发师时真不会剪，不如上次那个理发师。现在我自制力好差，感觉学不进去了，在图书馆就想看手机，好烦，希望以后能有所改善吧。</p>
<h2 id="2024-x2F-06-x2F-25"><a href="#2024-x2F-06-x2F-25" class="headerlink" title="2024&#x2F;06&#x2F;25"></a>2024&#x2F;06&#x2F;25</h2><p>​	今天六月二十五号，是wzy的生日，好想和他说生日快乐。我今天做梦又梦到他了，梦到我们在食堂讲着话，聊着天，好像不得不承认，我真的好想他，我好想说服自己说已经忘记他了，可是好难呀，这样真的挺难受的，不知道什么时候我才能真的释怀，好累呀。每天都要早起，漫无目的地学些什么，感觉自己真的好笨。好累，这个傻逼wzy，说丢下我就丢下我了，好想打他一下，真要竖个中指给他。</p>
<h2 id="2024-x2F-06-x2F-27"><a href="#2024-x2F-06-x2F-27" class="headerlink" title="2024&#x2F;06&#x2F;27"></a>2024&#x2F;06&#x2F;27</h2><p>​	昨天没写日记，昨天休息了一下午，好舒服，早上也没有做梦。但是我今天早上又做梦了，梦到我抱着他睡觉好舒服，真的好舒服，我好像差不多晚上一点才睡，然后四点多就醒了，然后六点钟又醒了一次，不知道我怎么了，是不是只要我睡前想到他，晚上就会梦到呢？好奇怪。最近背好痛，好烦。你说一段五年的感情要多久才能走出来了，还是会时不时想到他，觉得很可惜。感觉我好矫情。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://anewuserxw.github.io/2024/01/24/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Lost%20In%20Japan%20(Remix).jpg">
      <meta itemprop="name" content="WX">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="THE WHOLE">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Healer">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/24/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="post-title-link" itemprop="url">数据结构</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-24 20:34:42" itemprop="dateCreated datePublished" datetime="2024-01-24T20:34:42+08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-01-29 00:13:04" itemprop="dateModified" datetime="2024-01-29T00:13:04+08:00">2024-01-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">数据结构</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.6k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>6 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h1><h2 id="线性表"><a href="#线性表" class="headerlink" title="线性表"></a>线性表</h2><h2 id="栈、队列和数组"><a href="#栈、队列和数组" class="headerlink" title="栈、队列和数组"></a>栈、队列和数组</h2><h3 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h3><h4 id="栈的基本概念"><a href="#栈的基本概念" class="headerlink" title="栈的基本概念"></a>栈的基本概念</h4><p><strong>1.栈的定义</strong></p>
<p>栈（Stack）是只允许在一端进行插入或删除操作的线性表。首先栈是一种线性表，但限定这种线性表只能在某一端进行插入和删除操作。</p>
<p>栈顶(Top)。线性表允许进行插入删除的那一端。栈底(Bottom)。固定的，不允许进行插入和删除的另一端。空栈。不含任何元素的空表。</p>
<p>栈的数学性质：n个不同元素进栈，出栈元素不同排列的个数为<img src="D:\myblog\hexoblog\source_posts\数据结构\1.png">。上述公式称为卡特兰(Catalan)数，可采用数学归纳法证明，有兴趣的读者可以参考组合数学教材。</p>
<p><strong>2.栈的基本操作</strong></p>
<ul>
<li>InitStack(&amp;S):初始化一个空栈S。</li>
<li>StackEmpty(S):判断一个栈是否为空，若栈S为空则返回true,否则返回false。</li>
<li>Push(&amp;S,x):进栈，若栈S未满，则将x加入使之成为新栈顶。</li>
<li>Pop(&amp;S,&amp;x)：出栈，若栈S非空，则弹出栈顶元素，并用x返回。</li>
<li>GetTop(S,&amp;x)：读栈顶元素，若栈S非空，则用x返回栈顶元素。</li>
<li>DestroyStack(&amp;S)：销毁栈，并释放栈S占用的存储空间(“&amp;”表示引用调用)。</li>
</ul>
<h4 id="栈的顺序存储结构"><a href="#栈的顺序存储结构" class="headerlink" title="栈的顺序存储结构"></a>栈的顺序存储结构</h4><p><strong>1.顺序栈的实现</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 50 <span class="comment">//定义栈中元素的最大元素</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    Elemtype data[Maxsize]; <span class="comment">//栈中存放的元素</span></span><br><span class="line">    <span class="type">int</span> top; <span class="comment">//栈顶指针</span></span><br><span class="line">&#125;SqStack;</span><br></pre></td></tr></table></figure>

<p>栈顶指针：S.top,初始时设置**S.top&#x3D;-1(data数组第一个元素下表从零开始，所以栈初始为空设置S.top为-1，当有元素进栈时，top值加1变为0，正好对应data[0])**；栈顶元素：S.data[S.top]。进栈操作：栈不满时，栈顶指针先加1,再送值到栈顶元素。出栈操作：栈非空时，先取栈顶元素值，再将栈顶指针减1。栈空条件：S.top &#x3D;&#x3D; -1；栈满条件：S.top&#x3D;&#x3D;MaxSize-1；栈长：S.top+1。由于顺序栈的入栈操作受数组上界的约束，当对栈的最大使用空间估计不足时，有可能发生栈上溢，此时应及时向用户报告消息，以便及时处理，避免出错。</p>
<p><strong>2.顺序栈的基本操作</strong></p>
<ol>
<li><p>初始化</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">InitStack</span><span class="params">(SqStack &amp;S)</span>&#123;</span><br><span class="line">    S.top = <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>判断栈是否为空</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> <span class="title function_">StackEmpty</span><span class="params">(SqStack &amp;S)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(S.top==<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>进栈</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> <span class="title function_">Push</span><span class="params">(SqStack &amp;S,ElemType x)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(S.top == MaxSize<span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    S.top++;</span><br><span class="line">    S.data[S.top] = x;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>出栈</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bool Pop(SqStack &amp;S,ElemType &amp;x)&#123;</span><br><span class="line">	if(S.top == -1) return false;</span><br><span class="line">	x = S.data[S.top];</span><br><span class="line">	S.top--;</span><br><span class="line">	return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>读栈元素</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bool GetTop(SqStack S,ElemType &amp;x)&#123;</span><br><span class="line">	if(S.top == -1) return false;</span><br><span class="line">	x = S.data[S.top];</span><br><span class="line">	return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>3.共享栈</strong></p>
<p>利用栈底位置相对不变的特性，可让两个顺序栈共享一个一维数组空间，将两个栈的栈底分别设置在共享空间的两端，两个栈顶向共享空间的中间延伸，如图3.3所示。</p>
<center><img src="D:\myblog\hexoblog\source\_posts\数据结构\2.png" alt="image-20240124213246618" width="400px"/><center/>

<p>两个栈的栈顶指针都指向栈顶元素，top0&#x3D;-1时0号栈为空，top1&#x3D;MaxSize时1号栈为空；仅当两个栈顶指针相邻(topl-top0&#x3D;1)时，判断为栈满。当0号栈进栈时top0先加1再赋值，1号栈进栈时top1先减1再赋值；出栈时则刚好相反。共享栈是为了更有效地利用存储空间，两个栈的空间相互调节，只有在整个存储空间被占满时才发生上溢。其存取数据的时间复杂度均为0(1),所以对存取效率没有什么影响。</p>
<h4 id="栈的链式存储结构"><a href="#栈的链式存储结构" class="headerlink" title="栈的链式存储结构"></a>栈的链式存储结构</h4><p>采用链式存储的栈称为链栈，链栈的优点是便于多个栈共享存储空间和提高其效率，且不存在栈满上溢的情况。通常采用单链表实现，并规定所有操作都是在单链表的表头进行的。这里规定链栈没有头结点，Lhead指向栈顶元素，如图3.4所示。</p>
<center><img src="D:\myblog\hexoblog\source\_posts\数据结构\3.png" alt="image-20240124213246618" width="400px"/><center/>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Linknode</span>&#123;</span></span><br><span class="line">    ElemType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Linknode</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;*LiStack;</span><br></pre></td></tr></table></figure>

<h3 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h3><h4 id="队列的基本概念"><a href="#队列的基本概念" class="headerlink" title="队列的基本概念"></a>队列的基本概念</h4><p><strong>1.队列的定义</strong></p>
<p>队列(Queue)简称队，也是一种操作受限的线性表，只允许在表的一端进行插入，而在表的另一端进行删除。向队列中插入元素称为入队或进队；删除元素称为出队或离队。这和我们日常生活中的排队是一致的，最早排队的也是最早离队的，其操作的特性是先进先出(FirstInFirstOut,FIFO),如图3.5所示。</p>
<p><img src="D:\myblog\hexoblog\source_posts\数据结构\4.png" alt="image-20240127154651404"></p>
<p>队头(Front)。允许删除的一端，又称队首。</p>
<p>队尾(Rear)。允许插入的一端。</p>
<p>空队列。不含任何元素的空表。</p>
<p><strong>2.队列常见的基本操作</strong></p>
<ul>
<li>InitQueue(&amp;Q):初始化队列，构造一个空队列Q。</li>
<li>QueueEmpty(Q)：判队列空，若队列Q为空返回true,否则返回false。</li>
<li>EnQueue(&amp;Q,x)：入队，若队列Q未满，将x加入，使之成为新的队尾。</li>
<li>DeQueue(&amp;Q,&amp;x)：出队，若队列Q非空，删除队头元素，并用x返回。</li>
<li>GetHead(Q,&amp;x)：读队头元素，若队列Q非空，则将队头元素赋值给X。</li>
</ul>
<p>需要注意的是，栈和队列是操作受限的线性表，因此不是任何对线性表的操作都可以作为栈和队列的操作。比如，不可以随便读取栈或队列中间的某个数据。</p>
<h4 id="队列的顺序存储结构"><a href="#队列的顺序存储结构" class="headerlink" title="队列的顺序存储结构"></a>队列的顺序存储结构</h4><p><strong>1.队列的顺序存储</strong></p>
<p>队列的顺序实现是指分配一块连续的存储单元存放队列中的元素，并附设两个指针：队头指针front指向队头元素，队尾指针rear指向队尾元素的下一个位置(不同教材对front和rear的定义可能不同，例如，可以让rear指向队尾元素、front指向队头元素。对于不同的定义，出队入队的操作是不同的,本节后面有一些相关的习题，读者可以结合习题思考)。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 50</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    ElemType data[MaxSize];</span><br><span class="line">    <span class="type">int</span> front,rear;</span><br><span class="line">&#125;SqQueue;</span><br></pre></td></tr></table></figure>

<h4 id="数组与特殊矩阵"><a href="#数组与特殊矩阵" class="headerlink" title="数组与特殊矩阵"></a>数组与特殊矩阵</h4><h2 id="串"><a href="#串" class="headerlink" title="串"></a>串</h2><h4 id="串定义与实现"><a href="#串定义与实现" class="headerlink" title="串定义与实现"></a>串定义与实现</h4><h4 id="x3D-x3D-串的模式匹配算法-x3D-x3D"><a href="#x3D-x3D-串的模式匹配算法-x3D-x3D" class="headerlink" title="&#x3D;&#x3D;串的模式匹配算法&#x3D;&#x3D;"></a>&#x3D;&#x3D;串的模式匹配算法&#x3D;&#x3D;</h4><h2 id="树和二叉树"><a href="#树和二叉树" class="headerlink" title="树和二叉树"></a>树和二叉树</h2><h2 id="图"><a href="#图" class="headerlink" title="图"></a>图</h2><h2 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h2><h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://anewuserxw.github.io/2024/01/24/QT5%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Lost%20In%20Japan%20(Remix).jpg">
      <meta itemprop="name" content="WX">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="THE WHOLE">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Healer">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/24/QT5%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">QT5基础</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-24 14:00:22" itemprop="dateCreated datePublished" datetime="2024-01-24T14:00:22+08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-01-27 15:42:17" itemprop="dateModified" datetime="2024-01-27T15:42:17+08:00">2024-01-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/QT/" itemprop="url" rel="index"><span itemprop="name">QT</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>6 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="QT5基础"><a href="#QT5基础" class="headerlink" title="QT5基础"></a>QT5基础</h1><h2 id="字符串类和容器类"><a href="#字符串类和容器类" class="headerlink" title="字符串类和容器类"></a>字符串类和容器类</h2><h3 id="字符串类"><a href="#字符串类" class="headerlink" title="字符串类"></a>字符串类</h3><p>QT中用QString可定义和声名字符串。</p>
<ol>
<li><pre><code class="qt">//通过&quot;+&quot;末尾进行拼接
QString str1 = &quot;Welcome&quot;; //str1=&quot; Welcome to you! &quot; 
str1 = str1 + &quot;to you! &quot;; 
QString str2 = &quot;Hello, &quot;; 
str2 += &quot;World! &quot;; //str2=&quot;Hello,World! &quot;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. ```qt</span><br><span class="line">   //QString::append()对字符串末尾追加另一字符串</span><br><span class="line">   QString strl =&quot;Welcome&quot;; </span><br><span class="line">   QString str2 =&quot;to&quot;; </span><br><span class="line">   str1.append(str2); //strl=&quot; Welcome to&quot; </span><br><span class="line">   strl.append (&quot;you! &quot;); //strl=&quot;Welcome to you!&quot; </span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><pre><code class="qt">//通过QString::arg()进行字符串组合
QString str; str=QString(&quot;%1 was born in %2&quot;).arg (&quot;John&quot;).arg(1998); / / str=&quot;John was born in 1998&quot;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">4. QString也提供了一些其他组合字符串的方法，包括如下几种.</span><br><span class="line"></span><br><span class="line">   insert()函数：在原字符串特定的位置插入另一个字符串.</span><br><span class="line"></span><br><span class="line">   prepend()函数：在原字符串的开头插入另一个字符串。</span><br><span class="line"></span><br><span class="line">    replace()函数：用指定的字符串代替原字符串中的某些字符。</span><br><span class="line"></span><br><span class="line">5. ```qt</span><br><span class="line">   //QString::trimmed()函数:移除字符串两端的空白字符。</span><br><span class="line">   //QSrting::simplified()函数:移除字符串两端的空白字符，使用单个空格字符” “代替字符串中出现的空白字符</span><br><span class="line">   QString str = &quot;  Welcome \t to \n you   &quot;</span><br><span class="line">   str1 = str.trimmed(); //str1 = &quot; Welcome \t to \n you &quot;</span><br><span class="line">   str2 = str.simplified(); //str2 = &quot;Welcome to you&quot;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><pre><code class="qt">//QString::startWith()函数:判断一个字符串是否以某个字符串开头
//QString::endWith()函数:判断一个字符串是否以某个字符串结尾
//函数中有两个参数，第一个参数指定了某一个字符串，第二个参数指定是否大小写敏感（默认情况下，是大小写敏感的）
QString str = &quot;Welcome to you!&quot;;
str.startWith(&quot;Welocme&quot;,Qt::CaseSensitive);//返回true;
str.startWith(&quot;you&quot;,Qt::CaseSensitive); //返回false；
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">7. ```qt</span><br><span class="line">   //QString::contains()函数:查询一个指定的字符串是否出现过</span><br><span class="line">   QString str = &quot;Welcome to you&quot;;</span><br><span class="line">   str.contains(&quot;you&quot;,Qt::CaseSensitive); //放回true;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><pre><code class="qt">//QSring::toInt()函数:将字符串转换为数据类型或其他的字符编码集。
QString str = &quot;125&quot;;
bool ok;
int hex = str.toInt(&amp;ok,16);  //ok=true,hex=293;
int dec = str.toInt(&amp;ok,10); //ok=true,dec=125;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 容器类</span><br><span class="line"></span><br><span class="line">#### QList</span><br><span class="line"></span><br><span class="line">QList&lt;T&gt;是目前最常用的容器类 。它存储了给定类型的值的一个列表，而这些值可以通过索引访问。在内部，QList使用数组来实现，一确保进行快速的基于索引的访问。可以使用QList::append()和QList::prepend()在列表的两端添加项目，也可以使用QList::insert()在列表的中间插入项目。常用的QStringList继承自QList&lt;QString&gt;。</span><br><span class="line"></span><br><span class="line">```qt</span><br><span class="line">#include &lt;QCoreApplication&gt;</span><br><span class="line">#include &lt;QList&gt;</span><br><span class="line">#include &lt;QDebug&gt;</span><br><span class="line">int main(int argc, char *argv[])</span><br><span class="line">&#123;</span><br><span class="line">    QCoreApplication a(argc, argv);</span><br><span class="line"></span><br><span class="line">	// 定义QList变量</span><br><span class="line">    QList&lt;QString&gt; list;</span><br><span class="line">    </span><br><span class="line">	// 插入项目</span><br><span class="line">    list &lt;&lt; &quot;aa&quot; &lt;&lt; &quot;bb&quot; &lt;&lt; &quot;cc&quot;; </span><br><span class="line">    </span><br><span class="line">    // 查询和重新定义元素</span><br><span class="line">    if(list[1] == &quot;bb&quot;)</span><br><span class="line">    &#123;</span><br><span class="line">    	list[1] = &quot;ab&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	// 替换第3个元素</span><br><span class="line">    list.replace(2, &quot;bc&quot;);        // 将“cc”换为“bc”</span><br><span class="line">    </span><br><span class="line">	// 打印元素</span><br><span class="line">	qDebug() &lt;&lt; &quot;the list is: &quot;;</span><br><span class="line">    for(int i=0; i&lt;list.size(); ++i)&#123;</span><br><span class="line">        qDebug() &lt;&lt; list.at(i);   // 现在列表为aa ab bc</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	// 在列表尾部添加元素</span><br><span class="line">    list.append(&quot;dd&quot;);</span><br><span class="line">    // 在列表头部添加元素</span><br><span class="line">    list.prepend(&quot;mm&quot;);   </span><br><span class="line">    // 从列表中删除第3个项目，并获取它        </span><br><span class="line">    QString str = list.takeAt(2); </span><br><span class="line">	// 打印刚才删除的元素</span><br><span class="line">    qDebug() &lt;&lt; &quot;at(2) item is: &quot; &lt;&lt; str;</span><br><span class="line">    // 打印列表</span><br><span class="line">    qDebug() &lt;&lt; &quot;the list is: &quot;;</span><br><span class="line">    for(int i=0; i&lt;list.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        qDebug() &lt;&lt; list.at(i);   // 现在列表为mm aa bc dd</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">	// 在位置2插入项目</span><br><span class="line">    list.insert(2, &quot;mm&quot;);</span><br><span class="line">    // 交换项目1和项目3</span><br><span class="line">    list.swap(1,3);</span><br><span class="line">    // 打印列表</span><br><span class="line">    qDebug() &lt;&lt; &quot;the list is: &quot;;</span><br><span class="line">    for(int i=0; i&lt;list.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        qDebug() &lt;&lt; list.at(i);   // 现在列表为mm bc mm aa dd</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	// 列表中是否包含“mm”</span><br><span class="line">    qDebug() &lt;&lt; &quot;contains &#x27;mm&#x27; ?&quot; &lt;&lt; list.contains(&quot;mm&quot;); </span><br><span class="line">    // 包含“mm”的个数</span><br><span class="line">    qDebug() &lt;&lt; &quot;the &#x27;mm&#x27; count: &quot; &lt;&lt; list.count(&quot;mm&quot;); </span><br><span class="line">    // 第一个“mm”的位置，默认从位置0开始往前查找，返回第一个匹配的项目的位置</span><br><span class="line">    qDebug() &lt;&lt; &quot;the first &#x27;mm&#x27; index: &quot; &lt;&lt; list.indexOf(&quot;mm&quot;);</span><br><span class="line">    // 第二个“mm”的位置，我们指定从位置1开始往前查找</span><br><span class="line">    qDebug() &lt;&lt; &quot;the second &#x27;mm&#x27; index: &quot; &lt;&lt; list.indexOf(&quot;mm&quot;, 2);</span><br><span class="line"></span><br><span class="line">    return a.exec();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ol>
<h4 id="QMap和QHash"><a href="#QMap和QHash" class="headerlink" title="QMap和QHash"></a>QMap和QHash</h4><h2 id="布局管理"><a href="#布局管理" class="headerlink" title="布局管理"></a>布局管理</h2><h3 id="分割窗口类QSplitter"><a href="#分割窗口类QSplitter" class="headerlink" title="分割窗口类QSplitter"></a>分割窗口类QSplitter</h3><p>QSplitter* splitterMain &#x3D; new QSPlitter(QT::Horizontal,0)；&#x2F;&#x2F;定义主分割窗口。</p>
<p>QTextEdit *textLeft &#x3D;new QTextEdit(QObject::tr(“Left Widget”), splitterMain);&#x2F;&#x2F;新建一个QTextedit类对象，将其插入主分隔窗口中。</p>
<p>textLeft-&gt;setAlignment(Qt::AlignCenter);&#x2F;&#x2F;设置文字位置，此为文字水平且竖直居中。常用对齐方式有以下几种：</p>
<ul>
<li>Qt::AlignLeft: 左对齐。</li>
<li>Qt::AlignRight: 右对齐。</li>
<li>Qt::AlignCenter:文字居中（Qt::AlignHCenter水平居中，Qt::AlignVcenter数值居中）。</li>
<li>QT::AlginUp文字与顶部对齐。</li>
<li>Qt::AlignBottom文字于底部对齐。</li>
</ul>
<p>QSplitter* splitterRight &#x3D;new QSplitter(Qt::Vertical,splitterMain);</p>
<p>splitterRight-&gt;setOpaqueResize(false);<br>QTextEdit* textUp&#x3D;new QTextEdit(QObject::tr(“TopWidget”),splitterRight);<br>textUp-&gt;setAlignment(Qt::AlignCenter);<br>QTextEdit* textBottom &#x3D;new QTextEdit(QObject::tr(“Bottom Widget”), splitterRight);<br>textBottom-&gt;setAlignment(Qt::AlignCenter);<br>splitterMain-&gt;setStretchFactor(1,1);&#x2F;&#x2F;它的第1个参数用来指定设置的控件序号，控件序号按插入的先后次序从0起依次编号；第2个参数为大于0的值，表示此控件为可伸缩控件。此设置为使第一个插入的左部分在窗口拉伸时宽度保持不变，右部分序号为1，宽度正常变化。	</p>
<h3 id="停靠窗口QDockWidget类"><a href="#停靠窗口QDockWidget类" class="headerlink" title="停靠窗口QDockWidget类"></a>停靠窗口QDockWidget类</h3><figure class="highlight qt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">setWindowTitle(tr(<span class="string">&quot;DockWindows&quot;</span>));<span class="comment">//设置主窗口的标题栏文字</span></span><br><span class="line">QTextEdit* te = <span class="keyword">new</span> QTextEdit(<span class="keyword">this</span>);<span class="comment">//定义一个QTextEdit对象作为主窗口</span></span><br><span class="line">te-&gt;setText(tr(<span class="string">&quot;Main Window&quot;</span>));</span><br><span class="line">te-&gt;setAlignment(<span class="attribute">Qt</span>::AlignLeft);</span><br><span class="line">setCentralWidget(te);<span class="comment">//将此编辑框设为主窗口的中央窗体</span></span><br><span class="line"><span class="comment">//停靠窗口1</span></span><br><span class="line">QDockWidget *dock=<span class="keyword">new</span> QDockWidget(tr(<span class="string">&quot;DockWindow1&quot;</span>),<span class="keyword">this</span>);</span><br><span class="line"><span class="comment">//可移动</span></span><br><span class="line">dock-&gt;setFeatures(<span class="attribute">QDockWidget</span>::DockWidgetMovable);</span><br><span class="line">dock&gt;setAllowedAreas(<span class="attribute">Qt</span>::LeftDockWidgetArea|<span class="attribute">Qt</span>::RightDockWidgetArea);<span class="comment">//设置可停靠位置为左边或右边										QTextEdit *te1 =new QTextEdit();</span></span><br><span class="line">te1-&gt;setText(tr(<span class="string">&quot;Window1,The dock widget can be moved between docks by the user&quot;</span> <span class="string">&quot;&quot;</span>));</span><br><span class="line">dock-&gt;setWidget(te1);<span class="comment">//dock中加入编辑器te1</span></span><br><span class="line">addDockWidget(<span class="attribute">Qt</span>::LeftDockWidgetArea,dock);<span class="comment">//初始位置为左</span></span><br><span class="line"><span class="comment">//停靠窗口2</span></span><br><span class="line">dock=<span class="keyword">new</span> QDockWidget(tr(<span class="string">&quot;DockWindow2&quot;</span>),<span class="keyword">this</span>);</span><br><span class="line">dock&gt;setFeatures(<span class="attribute">QDockWidget</span>::DockWidgetClosable|<span class="attribute">QDockWidget</span>::DockWidgetFloatable);<span class="comment">//可关闭、可浮动</span></span><br><span class="line">QTextEdit *te2 =<span class="keyword">new</span> QTextEdit();</span><br><span class="line">te2-&gt;setText(tr(<span class="string">&quot;Window2,The dock widget can be detached from the main window,&quot;</span><span class="string">&quot;and floated as an independent window, and can be closed&quot;</span>));</span><br><span class="line">dock-&gt;setWidget(te2);</span><br><span class="line">addDockWidget(<span class="attribute">Qt</span>::RightDockWidgetArea,dock);<span class="comment">//初始位置为右</span></span><br><span class="line"><span class="comment">//停靠窗口3</span></span><br><span class="line">dock=<span class="keyword">new</span> QDockWidget(tr(<span class="string">&quot;DockWindow3&quot;</span>),<span class="keyword">this</span>);</span><br><span class="line">dock-&gt;setFeatures(<span class="attribute">QDockWidget</span>::AllDockWidgetFeatures);   <span class="comment">//全部特性</span></span><br><span class="line">QTextEdit *te3 =<span class="keyword">new</span> QTextEdit();</span><br><span class="line">te3-&gt;setText(tr(<span class="string">&quot;Window3,The dock widget can be closed, moved, and floated&quot;</span>));</span><br><span class="line">dock-&gt;setWidget(te3);</span><br><span class="line">addDockWidget(<span class="attribute">Qt</span>::TopDockWidgetArea,dock);<span class="comment">//初始位置为上</span></span><br></pre></td></tr></table></figure>

<img src="/2024/01/24/QT5%E5%9F%BA%E7%A1%80/1.png" class="">

<p><img src="D:\myblog\hexoblog\source_posts\QT5基础\1.png" alt="1"></p>
<h3 id="堆帐窗体QStackedWidget类"><a href="#堆帐窗体QStackedWidget类" class="headerlink" title="堆帐窗体QStackedWidget类"></a>堆帐窗体QStackedWidget类</h3><figure class="highlight qt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">setWindowTitle(tr(<span class="string">&quot;StackedWidget&quot;</span>));</span><br><span class="line">   <span class="built_in">list</span> =<span class="keyword">new</span> QListWidget(<span class="keyword">this</span>);	<span class="comment">//新建一个QListWidget控件对象</span></span><br><span class="line">   <span class="comment">//在新建的QListWidget控件中插入三个条目，作为选择项</span></span><br><span class="line">   <span class="built_in">list</span>-&gt;insertItem(<span class="number">0</span>,tr(<span class="string">&quot;Window1&quot;</span>));</span><br><span class="line">   <span class="built_in">list</span>-&gt;insertItem(<span class="number">1</span>,tr(<span class="string">&quot;Window2&quot;</span>));</span><br><span class="line">   <span class="built_in">list</span>-&gt;insertItem(<span class="number">2</span>,tr(<span class="string">&quot;Window3&quot;</span>));</span><br><span class="line">   <span class="comment">//创建三个QLabel标签控件对象，作为堆栈窗口需要显示的三层窗体</span></span><br><span class="line">   label1 =<span class="keyword">new</span> QLabel(tr(<span class="string">&quot;WindowTest1&quot;</span>));</span><br><span class="line">   label2 =<span class="keyword">new</span> QLabel(tr(<span class="string">&quot;WindowTest2&quot;</span>));</span><br><span class="line">   label3 =<span class="keyword">new</span> QLabel(tr(<span class="string">&quot;WindowTest3&quot;</span>));</span><br><span class="line">   stack =<span class="keyword">new</span> QStackedWidget(<span class="keyword">this</span>);</span><br><span class="line">   <span class="comment">//新建一个QStackedWidget堆栈窗体对象</span></span><br><span class="line">   <span class="comment">//将创建的三个QLabel标签控件依次插入堆栈窗体中</span></span><br><span class="line">   stack-&gt;addWidget(label1);</span><br><span class="line">   stack-&gt;addWidget(label2);</span><br><span class="line">   stack-&gt;addWidget(label3);</span><br><span class="line">   QHBoxLayout *mainLayout =<span class="keyword">new</span> QHBoxLayout(<span class="keyword">this</span>);</span><br><span class="line">                                   <span class="comment">//对整个对话框进行布局</span></span><br><span class="line">   mainLayout-&gt;setMargin(<span class="number">5</span>);		<span class="comment">//设定对话框（或窗体）的边距为5</span></span><br><span class="line">   mainLayout-&gt;setSpacing(<span class="number">5</span>);		<span class="comment">//设定各个控件之间的间距为5</span></span><br><span class="line">   mainLayout-&gt;addWidget(<span class="built_in">list</span>);</span><br><span class="line">   mainLayout-&gt;addWidget(stack,<span class="number">0</span>,<span class="attribute">Qt</span>::AlignHCenter);</span><br><span class="line">   mainLayout-&gt;setStretchFactor(<span class="built_in">list</span>,<span class="number">1</span>);		<span class="comment">//(a)</span></span><br><span class="line">   mainLayout-&gt;setStretchFactor(stack,<span class="number">3</span>); 			</span><br><span class="line">   	connect(<span class="built_in">list</span>,SIGNAL(currentRowChanged(<span class="built_in">int</span>)),stack,SLOT(setCurrentIndex(<span class="built_in">int</span>)));<span class="comment">//connect(list,SIGNAL(currentRowChanged(int)),stack,SLOT(setCurrentlndex(int))): 将QListWidget的currentRowChanged()信号与堆栈窗体的setCurrentlndex()槽函数连接起来，实现按选择显示窗体。此处的堆栈窗体index按插入的顺序从0起依次排序，与QListWidget的排序一致。</span></span><br></pre></td></tr></table></figure>

<img src="/2024/01/24/QT5%E5%9F%BA%E7%A1%80/2.png" class="">

<p><img src="D:\myblog\hexoblog\source_posts\QT5基础\1.png" alt="1"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://anewuserxw.github.io/2023/12/21/TinyWebserver/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Lost%20In%20Japan%20(Remix).jpg">
      <meta itemprop="name" content="WX">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="THE WHOLE">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Healer">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/21/TinyWebserver/" class="post-title-link" itemprop="url">TinyWebserver</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-21 20:17:30" itemprop="dateCreated datePublished" datetime="2023-12-21T20:17:30+08:00">2023-12-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-02-19 16:24:31" itemprop="dateModified" datetime="2024-02-19T16:24:31+08:00">2024-02-19</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.8k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>6 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="TineyWebserver"><a href="#TineyWebserver" class="headerlink" title="TineyWebserver"></a>TineyWebserver</h1><h2 id="服务器基本流程"><a href="#服务器基本流程" class="headerlink" title="服务器基本流程"></a>服务器基本流程</h2><p>大体流程：通过线程池管理http类，当有客户连接传输数据时，往线程池任务队列中添加任务，线程池中已创建子线程从任务队列中取出任务执行，任务队列中的任务为相关http数据的处理。通过epoll技术来进行网络通信，运用线程池技术创建线程来管理对http数据的处理，同时创建数据库连接池，加入日志队列，定时器类。</p>
<h2 id="lock类"><a href="#lock类" class="headerlink" title="lock类"></a>lock类</h2><p>对线程同步机制封装类。多线程同步，确保任一时刻只有一个线程能进入关键代码段。</p>
<p>总共有三个class，分别为sem,locker,cond</p>
<h5 id="1、sem类（信号量）"><a href="#1、sem类（信号量）" class="headerlink" title="1、sem类（信号量）"></a>1、sem类（信号量）</h5><p>sem类是一个信号量封装类。信号量是一种同步机制，用于控制多个线程之间的访问顺序。通常情况下，当多个线程需要共享一个资源时，需要使用信号量来确保每个线程按照一定的顺序访问该资源，从而避免出现竞争条件和数据不一致等问题</p>
<p>其中构建函数有两个sem()、sem(int num)，他们的区别是是否给sem_init提供信号量初始值（value）</p>
<p>sem_init是一个用于初始化信号量的函数，它有三个参数，分别是：</p>
<ol>
<li>sem：指向要初始化的信号量的指针。</li>
<li>pshared：指定信号量是在进程间共享还是在线程间共享的标志。如果pshared为0，则表示信号量将在同一进程内的线程之间共享；如果pshared为非0值，则表示信号量可以在多个进程之间共享。</li>
<li>value：指定信号量的初始值。</li>
</ol>
<h5 id="2、locker类（互斥锁）"><a href="#2、locker类（互斥锁）" class="headerlink" title="2、locker类（互斥锁）"></a>2、locker类（互斥锁）</h5><p>这个类是一个简单的互斥锁封装，用于在多线程编程中保护共享资源。它使用 POSIX 线程库提供的 <code>pthread_mutex_t</code> 类型和相关函数来实现。</p>
<p>在多线程程序中，使用互斥锁可以避免多个线程同时访问共享资源而导致的数据竞争问题。这里的 lock() 和 unlock() 方法就是为了控制对共享资源的访问，只有获得了互斥锁的线程才能访问共享资源，其他线程则必须等待锁被释放才能获取它。</p>
<h5 id="3、cond类（条件变量）"><a href="#3、cond类（条件变量）" class="headerlink" title="3、cond类（条件变量）"></a>3、cond类（条件变量）</h5><p>这个类使用 POSIX 线程库提供的条件变量来实现线程同步。</p>
<p>在使用条件变量时需要与互斥锁搭配使用，以避免竞态条件的发生。因此，wait 函数和 timewait 函数的参数中传入了一个互斥锁指针，表示等待前需要先加锁，等待结束后再解锁。同时，在每个成员函数中都有注释掉的 mutex 加锁和解锁操作，这是因为加锁和解锁的逻辑应该放在调用 cond 类的外部实现，而不应该在 cond 类的内部实现中。</p>
<h2 id="http类"><a href="#http类" class="headerlink" title="http类"></a>http类</h2><h5 id="状态机的使用"><a href="#状态机的使用" class="headerlink" title="状态机的使用"></a><strong>状态机的使用</strong></h5><p>有限状态机是一种抽象的理论模型，使用选择语句来实现。模型要求代码存在 n 个状态，使用当前状态 <code>cur_state</code> 来进行标记，每次处理完任务后都对其进行更改以实现状态跳转，代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">STATE_MACHINE</span>()&#123;</span><br><span class="line">    State cur_State = type_A;</span><br><span class="line">    <span class="keyword">while</span>(cur_State != type_C)&#123;</span><br><span class="line">        Package _pack = <span class="built_in">getNewPackage</span>();</span><br><span class="line">        <span class="keyword">switch</span>() &#123;</span><br><span class="line">            <span class="keyword">case</span> type_A:</span><br><span class="line">                <span class="built_in">process_pkg_state_A</span>(_pack);</span><br><span class="line">                cur_State = type_B;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> type_B:</span><br><span class="line">                <span class="built_in">process_pkg_state_B</span>(_pack);</span><br><span class="line">                cur_State = type_C;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>用主从状态机封装了http连接类。</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/65c7c1b67158e62e7d7c3ed8b698633e.jpeg" alt="img"></p>
<p>主状态机的两种可能状态，分别表示：当前正在分析请求行，当前正在分析头，当前正在分析请求体（请求正文）。从状态机的三种可能状态，即表示行的读取状态，分别表示：读取到一个完整的行，读取到的行出错，行数据尚且不完整。</p>
<h5 id="大体流程"><a href="#大体流程" class="headerlink" title="大体流程"></a>大体流程</h5><ol>
<li><p>read_once()循环读取客户数据（相关http请求数据），直到无数据可读或对方关闭连接。</p>
</li>
<li><p>prase_line()是从状态机，用于分析出一行内容的状态，返回值为行的读取状态，有LINE_OK,LINE_BAD,LINE_OPEN。</p>
</li>
<li><p>pare_request_line(char *text)用于解析http请求行，获得请求方法，目标url及http版本号。</p>
</li>
<li><p>parse_headers(char *text)用于解析http请求的头部信息。</p>
</li>
<li><p>parse_content(char *text)用于判断http请求是否被完整读入。</p>
</li>
<li><p>process_read()用于处理客户端发送的HTTP请求，包括解析请求行、请求头、请求体等，并根据请求内容返回不同的响应状态码。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">http_conn::HTTP_CODE <span class="title">http_conn::process_read</span><span class="params">()</span></span>&#123;</span><br><span class="line">    LINE_STATUS line_status = LINE_OK; <span class="comment">// 表示当前解析出来的行状态</span></span><br><span class="line">    HTTP_CODE ret = NO_REQUEST; <span class="comment">// 表示当前解析出来的方法执行结果</span></span><br><span class="line">    <span class="type">char</span> *text = <span class="number">0</span>; <span class="comment">// 定义一个指向当前读取行缓冲区的指针text初始化为0</span></span><br><span class="line">	</span><br><span class="line">    <span class="comment">//进入while循环，不断地从socket中读取数据，并对其进行解析和处理</span></span><br><span class="line">    <span class="keyword">while</span> ((m_check_state == CHECK_STATE_CONTENT &amp;&amp; line_status == LINE_OK) || ((line_status = <span class="built_in">parse_line</span>()) == LINE_OK))&#123;</span><br><span class="line">        <span class="comment">// 读取一行数据并保存到text变量中</span></span><br><span class="line">        text = <span class="built_in">get_line</span>();</span><br><span class="line">        <span class="comment">// 设置m_start_line变量为当前已经解析过的字符数（即上一次解析完的位置）</span></span><br><span class="line">        m_start_line = m_checked_idx;</span><br><span class="line">        <span class="comment">// 输出读取到的数据内容</span></span><br><span class="line">        <span class="built_in">LOG_INFO</span>(<span class="string">&quot;%s&quot;</span>, text);</span><br><span class="line">        <span class="comment">// 根据m_check_state的不同值，调用相应的函数对当前行数据进行解析和处理</span></span><br><span class="line">        <span class="keyword">switch</span> (m_check_state)&#123;</span><br><span class="line">        <span class="comment">// 解析请求行</span></span><br><span class="line">        <span class="keyword">case</span> CHECK_STATE_REQUESTLINE:&#123;</span><br><span class="line">            ret = <span class="built_in">parse_request_line</span>(text);</span><br><span class="line">            <span class="keyword">if</span> (ret == BAD_REQUEST)</span><br><span class="line">                <span class="keyword">return</span> BAD_REQUEST;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 解析请求头</span></span><br><span class="line">        <span class="keyword">case</span> CHECK_STATE_HEADER:&#123;</span><br><span class="line">            ret = <span class="built_in">parse_headers</span>(text);</span><br><span class="line">            <span class="keyword">if</span> (ret == BAD_REQUEST)</span><br><span class="line">                <span class="keyword">return</span> BAD_REQUEST;</span><br><span class="line">            <span class="comment">// 如果解析请求头部发现请求方法是GET，则直接跳转到do_request()函数进行响应处理</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (ret == GET_REQUEST)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">do_request</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 解析请求体</span></span><br><span class="line">        <span class="keyword">case</span> CHECK_STATE_CONTENT:&#123;</span><br><span class="line">            ret = <span class="built_in">parse_content</span>(text);</span><br><span class="line">            <span class="keyword">if</span> (ret == GET_REQUEST)</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">do_request</span>();</span><br><span class="line">            <span class="comment">// 如果发现已经读取完整个请求体，则将line_status设置为LINE_OPEN，以便下一轮循环继续读取下一个请求</span></span><br><span class="line">            line_status = LINE_OPEN;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> INTERNAL_ERROR;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 返回 NO_REQUEST 状态码，表示HTTP请求未被完整读入</span></span><br><span class="line">    <span class="keyword">return</span> NO_REQUEST;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>process()根据读取到的数据进行处理并返回对应的 HTTP_CODE 枚举值，该函数完成了对客户端请求的处理和响应的发送，并通过 epoll 实现了高效的事件驱动模型，提高了服务器的吞吐量和性能.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">http_conn::process</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// 调用process_read()函数，从客户端socket中读取数据并解析出HTTP请求信息</span></span><br><span class="line">    HTTP_CODE read_ret = <span class="built_in">process_read</span>();</span><br><span class="line">    <span class="comment">// 当前没有接收到完整的请求数据，函数直接结束</span></span><br><span class="line">    <span class="keyword">if</span> (read_ret == NO_REQUEST)&#123;</span><br><span class="line">        <span class="comment">// 将客户端socket加入epoll监听列表，等待下一次可读事件触发</span></span><br><span class="line">        <span class="built_in">modfd</span>(m_epollfd, m_sockfd, EPOLLIN, m_TRIGMode);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果返回值不为NO_REQUEST，则表示已经成功解析出HTTP请求信息，并准备好回复客户端</span></span><br><span class="line">    <span class="comment">// 调用process_write()函数进行响应报文的构建和发送，并将返回值赋给write_ret变量</span></span><br><span class="line">    <span class="type">bool</span> write_ret = <span class="built_in">process_write</span>(read_ret);</span><br><span class="line">    <span class="comment">// 如果process_write()函数返回false，则说明响应发送失败</span></span><br><span class="line">    <span class="keyword">if</span> (!write_ret)&#123;</span><br><span class="line">        <span class="comment">// 关闭客户端连接</span></span><br><span class="line">        <span class="built_in">close_conn</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 将客户端socket加入epoll监听列表，并等待下一次可写事件触发，以继续发送响应数据</span></span><br><span class="line">    <span class="built_in">modfd</span>(m_epollfd, m_sockfd, EPOLLOUT, m_TRIGMode);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h2><h2 id="数据库连接池"><a href="#数据库连接池" class="headerlink" title="数据库连接池"></a>数据库连接池</h2><h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><h2 id="日志队列"><a href="#日志队列" class="headerlink" title="日志队列"></a>日志队列</h2><h2 id="webserver类"><a href="#webserver类" class="headerlink" title="webserver类"></a>webserver类</h2><h2 id=""><a href="#" class="headerlink" title=""></a></h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://anewuserxw.github.io/2023/05/04/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Lost%20In%20Japan%20(Remix).jpg">
      <meta itemprop="name" content="WX">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="THE WHOLE">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Healer">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/04/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" class="post-title-link" itemprop="url">内存管理</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-05-04 21:11:39 / 修改时间：21:50:14" itemprop="dateCreated datePublished" datetime="2023-05-04T21:11:39+08:00">2023-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OS/" itemprop="url" rel="index"><span itemprop="name">OS</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://anewuserxw.github.io/2023/05/04/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Lost%20In%20Japan%20(Remix).jpg">
      <meta itemprop="name" content="WX">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="THE WHOLE">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Healer">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/04/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" class="post-title-link" itemprop="url">文件系统</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-05-04 18:02:22" itemprop="dateCreated datePublished" datetime="2023-05-04T18:02:22+08:00">2023-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-05-05 19:28:37" itemprop="dateModified" datetime="2023-05-05T19:28:37+08:00">2023-05-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OS/" itemprop="url" rel="index"><span itemprop="name">OS</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>10 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="文件系统的基本组成"><a href="#文件系统的基本组成" class="headerlink" title="文件系统的基本组成"></a>文件系统的基本组成</h3><p>Linux 文件系统会为每个文件分配两个数据结构：<strong>i节点（index node）和目录项（directory entry）</strong>，它们主要用来记录文件的元信息和目录层次结构。</p>
<ul>
<li><p>索引节点，也就是 inode，用来记录文件的元信息，比如 inode 编号、文件大小、访问权限、创建时间、修改时间、数据在磁盘的位置等等。索引节点是文件的唯一标识，它们之间一一对应，也同样都会被存储在硬盘中，所以索引节点同样占用磁盘空间。</p>
</li>
<li><p>目录项，也就是 dentry，用来记录文件的名字、索引节点指针以及与其他目录项的层级关联关系。多个目录项关联起来，就会形成目录结构，但它与索引节点不同的是，目录项是由内核维护的一个数据结构，不存放于磁盘，而是缓存在内存。</p>
<p>由于索引节点唯一标识一个文件，而目录项记录着文件的名，所以目录项和索引节点的关系是多对一，也就是说，一个文件可以有多个别字。比如，硬链接的实现就是多个目录项中的索引节点指向同一个文件。</p>
<p>注意，目录也是文件，也是用索引节点唯一标识，和普通文件不同的是，普通文件在磁盘里面保存的是文件数据，而目录文件在磁盘里面保存子目录或文件</p>
</li>
</ul>
<h3 id="i节点和文件头"><a href="#i节点和文件头" class="headerlink" title="i节点和文件头"></a>i节点和文件头</h3><p><strong>i节点</strong>是文件系统用于存储文件相关元数据的数据结构，包括文件物理位置、大小、类型、权限等信息。在文件创建和写入时，i节点中的数据需要被同时更新或修改。这些数据通常不是自动生成的，而是由相应的文件系统管理程序或操作系统内核进行设置和更新的。<br>具体来说，当用户创建一个新的文件时，文件系统会为它分配一些物理空间并记录它的物理位置信息，然后将这些信息记录到相应的i节点中。在文件的写入操作时，文件系统会根据操作系统或者文件系统设置的i节点内存储相关信息，动态地更新i节点的内容，记录文件的最新物理地址和文件大小信息。<br>需要注意的是，不同的文件系统可能会有不同的i节点格式和不同的元数据信息，因此i节点中存储的信息内容可能会有所差异。但是，无论是哪种文件系统，i节点中的数据都是文件系统管理程序或操作系统内核动态更新的，以便记录和管理文件的相关信息。</p>
<p><strong>文件头</strong>是文件系统用于存储文件相关基本信息的数据结构，通常存储在文件的开头处，并且在文件创建时就会被创建和写入。这些基本信息包括文件的类型、大小、创建时间、修改时间、访问权限等。文件头通常不是自动生成的，而是由<strong>应用程序或操作系统内核</strong>根据特定的规则和用户给定的属性来设置和填充的。<br>具体来说，当用户需要创建一个新文件时，可以通过各种应<strong>用程序或者操作系统内置命令来创建</strong>，并在创建文件时指定一些必要的基本信息，例如文件的类型、大小、文件名、访问权限等。这些基本属性信息将会被写入文件头中，以便应用程序和操作系统在访问和管理文件时能够快速读取基本信息。<br>文件头的格式和元数据信息可能会因不同的操作系统、文件系统或文件类型而异，但是它们的基本目的是相同的，即为文件存储提供一些基本元数据信息，以便应用程序和操作系统可以更好地访问、修改和管理文件。<br>总之，文件头不是自动生成的，而是由应用程序或操作系统内核根据规则和用户给定的属性进行设置和填充，以提供文件的基本元数据信息。</p>
<p><strong>若使用连续分配存储文件，i节点要记录第一块的磁盘位置和文件的块数且文件头可以不指定「起始块的位置」和「长度」吗？</strong></p>
<p>不太可能。</p>
<p>在使用连续分配方式存储文件时，i 节点需要记录第一块的磁盘位置和文件的块数，这是必要的信息，因为这些信息描述了文件的<strong>物理布局</strong>，即文件存储在哪些磁盘块中以及磁盘块的数量和顺序。操作系统需要这些信息才能正确地读取和管理文件。</p>
<p>相比之下，<strong>文件头中存储起始块的位置和长度的信息可以看作是一种优化，它可以加速文件访问和管理的过程</strong>。但是，即使文件头中没有这些信息，操作系统仍然可以通过 i 节点中的信息找到文件的起始块和长度。因此，理论上可以不在文件头中指定起始块的位置和长度，而仅在 i 节点中记录第一块的磁盘位置和文件的块数。</p>
<p>然而，在实际实现中，将文件头中存储起始块的位置和长度的信息和 i 节点中存储第一块的磁盘位置和文件的块数的信息分开记录能够更好地组织文件系统的数据结构，使其更加高效。因此，在使用连续分配方式存储文件时，通常会同时在文件头和 i 节点中记录文件的重要信息，以便实现对文件的高效访问和管理。</p>
<h3 id="文件的存储"><a href="#文件的存储" class="headerlink" title="文件的存储"></a>文件的存储</h3><p>1.连续分配</p>
<p>连续磁盘空间存放方式顾名思义，<strong>文件存放在磁盘「连续的」物理空间中</strong>。</p>
<p>优势：1.实现简单，记录每个文件用到的磁盘块简化为只需要记住连个数字即可：第一块的磁盘地址和文件的块数 2.读操作性能好，单个草做就可以从磁盘上读出整个文件。只需要一次寻找。之后不再需要寻道和旋转延迟。</p>
<p>缺点：1.磁盘空间碎片 2.文件长度不易扩展</p>
<p>例如：1.如果文件 B 被删除，磁盘上就留下一块空缺，这时，如果新来的文件小于其中的一个空缺，我们就可以将其放在相应空缺里。但如果该文件的大小大于所有的空缺，但却小于空缺大小之和， 则虽然磁盘上有足够的空缺，但该文件还是不能存放。当然了，我们可以通过将现有文件进行挪动来腾出空间以容纳新的文件，但是这个在磁盘挪动文件是非常耗时，所以这种方式不太现实。2.如果文件 A 要想扩大一下，需要更多的磁盘空间，唯一的办法就只能是挪动的方式，而这种方式效率是非常低的。</p>
<p>2.链表分配</p>
<p>为每个文件构造磁盘块链表，每个块的第一个字作为指向下一块的指针，块的其他部分存放数据。这样的方法不会因为磁盘碎片而浪费存储空间。然而链表分配方案中，顺序访问读文件比较方便，但是随机访问却相当缓慢，无法直接访问。例如如果要获得块n，操作系统每一次都必须从头开始，并且要先读前面的n-1块。</p>
<p>3.采用内存中的表进行链表分配</p>
<p>取出每个磁盘块中的指针，把他们放在内存中的一个表中。它指<strong>把用于链接文件各数据块的指针，显式地存放在内存的一张链接表中</strong>，该表在整个<strong>磁盘仅设置一张</strong>，<strong>每个表项中存放链接指针，指向下一个数据块号</strong>。</p>
<p>对于显式链接的工作方式，我们举个例子，文件 A 依次使用了磁盘块 4、7、2、10 和 12 ，文件 B 依次使用了磁盘块 6、3、11 和 14 。利用下图中的表，可以从第 4 块开始，顺着链走到最后，找到文件 A 的全部磁盘块。同样，从第 6 块开始，顺着链走到最后，也能够找出文件 B 的全部磁盘块。最后，这两个链都以一个不属于有效磁盘编号的特殊标记（如 -1 ）结束。内存中的这样一个表格称为文件分配表（File Allocation Table，FAT）。</p>
<img src="/2023/05/04/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/1.png" class="">

<img src="D:\myblog\hexoblog\source\_posts\文件系统\1.png" style="zoom:80%;" />

<p>由于查找记录的过程是在内存中进行的，因而不仅显著地提高了检索速度，而且大大减少了访问磁盘的次数。但也正是整个表都存放在内存中的关系，它的主要的缺点是不适用于<strong>大磁盘</strong>。</p>
<p>比如，对于 200GB 的磁盘和 1KB 大小的块，这张表需要有 2 亿项，每一项对应于这 2 亿个磁盘块中的一个块，每项如果需要 4 个字节，那这张表要占用 800MB 内存，很显然 FAT 方案对于大磁盘而言不太合适。</p>
<p>4.i节点</p>
<p>给每个文件赋予一个称为i节点的数据结构，其中列出了文件属性和文件块的磁盘地址。相对于在内存中采用表的方式，这种机制有很大优势，即只有在文件打开的时候，i节点才会在内存中。如果每个i节点占有n个字节，最多有K个文件同时打开，那么为保留i节点的数组所占据的内存仅仅是kn个字节，只需要提前保留这么多空间即可。</p>
<p>如果每个i节点只能存储固定数量的磁盘地址，那么当一个文件所含的磁盘块的数目超过了i节点所能容纳的数目时，只要使i节点中的最后一个“磁盘地址”不指向数据块，而是指向一个包含额外磁盘块地址的快的地址。</p>
<img src="/2023/05/04/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/2.jpg" class="">

<img src="D:\myblog\hexoblog\source\_posts\文件系统\2.jpg" alt="2"  />

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://anewuserxw.github.io/2023/05/01/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%90%AF%E5%8A%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Lost%20In%20Japan%20(Remix).jpg">
      <meta itemprop="name" content="WX">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="THE WHOLE">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Healer">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/01/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%90%AF%E5%8A%A8/" class="post-title-link" itemprop="url">操作系统的启动</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-05-01 15:04:04" itemprop="dateCreated datePublished" datetime="2023-05-01T15:04:04+08:00">2023-05-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-06-25 09:06:05" itemprop="dateModified" datetime="2024-06-25T09:06:05+08:00">2024-06-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OS/" itemprop="url" rel="index"><span itemprop="name">OS</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>118</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>CS：代码段寄存器 IP：指令指针寄存器</p>
<p>(1)X86PC刚开机CPU为实模式（CS：PC(CS左移四位+IP)，得到物理地址，其中四位是二进制四位）</p>
<p>(2)开机时：S&#x3D;0XFFFF；IP&#x3D;0X0000</p>
<p>(3)寻址：0XFFFF0(ROM BIOS 映射区)</p>
<p>(4)检查RAM，键盘，显示器，软硬磁盘</p>
<p>(5)将磁盘0磁道0扇区读入0X7c00处(0磁道0扇区为引导扇区，一个扇区512个字节)</p>
<p>(6)设置CS&#x3D;0X07c0,IP&#x3D;0X0000</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://anewuserxw.github.io/2023/04/30/%E8%B0%83%E5%BA%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Lost%20In%20Japan%20(Remix).jpg">
      <meta itemprop="name" content="WX">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="THE WHOLE">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Healer">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/04/30/%E8%B0%83%E5%BA%A6/" class="post-title-link" itemprop="url">调度</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-04-30 21:37:17" itemprop="dateCreated datePublished" datetime="2023-04-30T21:37:17+08:00">2023-04-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-05-04 22:03:53" itemprop="dateModified" datetime="2023-05-04T22:03:53+08:00">2023-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OS/" itemprop="url" rel="index"><span itemprop="name">OS</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>599</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>调度是系统将<strong>计算机资源</strong>分配给进程。</p>
<p>在单道程序环境下，只有一个进程存在，计算机的所有资源由一个进程独占，没有资源竞争问题。然而在多道程序环境下，多个进程并发运行，各进程之间存在资源的相互<strong>竞争</strong>，特别是对处理器资源的竞争，从而影响到系统性能。</p>
<p>例题：1.在一个单CPU的计算机系统中，有两台外部设备R1、R2和三个进程P1、P2、P3。系统采用可剥夺式优先级的进程调度方案，且所有进程可以并行使用I&#x2F;O设备，三个进程的优先级、使用设备的先后顺序和占用设备时间如下表所示：</p>
<img src="/2023/04/30/%E8%B0%83%E5%BA%A6/1.jpg" class="">

<p><strong>对于不同的进程，优先级更高的进程会首先占用CPU。</strong></p>
<p>首先P1进程使用R2资源30ms，所以P1的前30ms注明为R2。与此同时P2使用R1资源20ms，P3同时申请使用CPU 40ms。当P3申请使用CPU时，没有其它进程申请使用CPU，所以P3顺利得到了CPU的使用权。但我们可以看到，当系统时间到20ms时，P3失去了CPU资源，这是为什么呢因为此时P2已经使用完R1，它开始申请使用CPU了，P2的优先级比P3高，所以系统从P3手中收回CPU的使用权，把CPU分配给P2使用。当系统时间到30ms时，系统又从P2手中收回了CPU的使用权，把CPU分配给了P1使用，因为系统中P1的优先级比P2高。</p>
<p>P1,P2,P3占用R1，R2，CPU图像如下：</p>
<img src="/2023/04/30/%E8%B0%83%E5%BA%A6/2.jpg" class="">

<p>从图可以看出P2在使用R1设备20ms后，要使用CPU30ms，但当其运行10ms后， P1要使用CPU，由于系统采用可剥夺方式调度，P1优先级高，所以将P2暂停，让P1先运行。同理，P3开始就使用CPU，但在运行20ms后，要让给高优先级的进程P2和 P1。P1从投入运行到完成需要80ms，而P2、P3由于等待资源，运行时间都延长为100ms。 CPU在90ms～100ms共10ms时间内没有利用，所以利用率为90&#x2F;100&#x3D;90%，同样计算得R2的利用率为70&#x2F;100&#x3D;70%，R1的利用率为60%。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://anewuserxw.github.io/2023/04/30/%E4%BF%A1%E5%8F%B7%E9%87%8F%E6%9C%BA%E5%88%B6%EF%BC%88PV%E6%93%8D%E4%BD%9C%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Lost%20In%20Japan%20(Remix).jpg">
      <meta itemprop="name" content="WX">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="THE WHOLE">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Healer">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/04/30/%E4%BF%A1%E5%8F%B7%E9%87%8F%E6%9C%BA%E5%88%B6%EF%BC%88PV%E6%93%8D%E4%BD%9C%EF%BC%89/" class="post-title-link" itemprop="url">信号量机制（PV操作）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-04-30 19:10:20" itemprop="dateCreated datePublished" datetime="2023-04-30T19:10:20+08:00">2023-04-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-05-01 12:01:09" itemprop="dateModified" datetime="2023-05-01T12:01:09+08:00">2023-05-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OS/" itemprop="url" rel="index"><span itemprop="name">OS</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>5 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>信号量：<strong>一个信号量对应一种资源</strong>，信号量其实就是一个变量(可以是一个整数,也可以是更复杂的记录型变量),可以用一个信号量来<strong>表示系统中某种资源的数量。</strong>P就是wait操作，等待资源，V就是++操作，释放资源。<br>用户可通过PV操作来实现进程互斥与进程同步。而对于有些书中也使用down和up分别代替PV更好理解，例如用信号量解决生产者和消费者问题：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> N 100 <span class="comment">//缓冲区中的槽数目</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> semaphore; <span class="comment">//信号量是一种特殊的整形数据</span></span><br><span class="line">semaphore mutex= <span class="number">1</span>;  <span class="comment">/*控制对临界区的访问*/</span></span><br><span class="line">semaphore empty = N;  <span class="comment">/*计数缓冲区的空槽数目*/</span></span><br><span class="line">semaphore full = <span class="number">0</span>; <span class="comment">/*计数缓冲区的满槽数目*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">producer</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"><span class="type">int</span> item;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(TRUE)&#123;         <span class="comment">/*TRUE是常量1*/</span></span><br><span class="line">item =produce_item();<span class="comment">/*产生放在缓冲区中的一些数据*/</span></span><br><span class="line">down(&amp;empty);        <span class="comment">/*将空槽数目减1*/</span></span><br><span class="line">down(&amp;mutex);        <span class="comment">/*进入临界区*/</span></span><br><span class="line">insert_item(item);   <span class="comment">/*将新数据项放到缓冲区中*/</span></span><br><span class="line">up(&amp;mutex);          <span class="comment">/*离开临界区*/</span></span><br><span class="line">up(&amp;full);           <span class="comment">/*将满槽的数目加1*/</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">consumer</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"><span class="type">int</span> item;</span><br><span class="line"><span class="keyword">while</span>(TRUE)&#123;        <span class="comment">/*无限循环*/</span></span><br><span class="line">down(&amp;full);        <span class="comment">/*将满槽数目减1*/</span></span><br><span class="line">down(&amp;mutex);       <span class="comment">/*进入临界区*/</span></span><br><span class="line">item = remove_item();<span class="comment">/*从缓冲区中取出数据项*/</span></span><br><span class="line">up(&amp;mutex);         <span class="comment">/*离开临界区*/</span></span><br><span class="line">up(&amp;empty):         <span class="comment">/*将空槽数目加1*/</span></span><br><span class="line">consume <span class="title function_">item</span><span class="params">(item)</span>; <span class="comment">/*处理数据项*/</span> </span><br><span class="line">     &#125;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>

<p>对于PV操作有如下例题：</p>
<p>1.三个进程P1、P2、P3互斥使用一个包含N（N&gt;0）个单元的缓冲区。P1每次用produce()生成一个正整数并用put()送入缓冲区某一空单元中；P2每次用getodd()从该缓冲区中取出一个奇数并用countodd()统计奇数个数；P3每次用geteven()从该缓冲区中取出一个偶数并用counteven()统计偶数个数。请用信号量机制实现这三个进程的同步与互斥活动，并说明所定义的信号量的含义。要求用伪代码描述。</p>
<p><strong>定义信号量S1控制P1与P2之间的同步；S2控制P1与P3之间的同步；empty控制生产者与消费者 之间的同步；mutex控制进程间互斥使用缓冲区。程序如下：</strong><br><strong>Var S1&#x3D;0, S2&#x3D;0, empty&#x3D;N, mutex&#x3D;1;</strong> </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">P1:begin                           </span><br><span class="line">x=produce();</span><br><span class="line">P(empty);</span><br><span class="line">P(mutex);</span><br><span class="line">Put();</span><br><span class="line">V(mutex);</span><br><span class="line">If x%2==0</span><br><span class="line">V(S2);</span><br><span class="line">else</span><br><span class="line">V(S1);</span><br><span class="line">end.</span><br><span class="line"></span><br><span class="line">P2:begin                           </span><br><span class="line">P(S1);</span><br><span class="line">P(mutex);</span><br><span class="line">getodd();</span><br><span class="line">V(mutex);</span><br><span class="line">V(empty);</span><br><span class="line">countodd();</span><br><span class="line">end.</span><br><span class="line"></span><br><span class="line">P3:begin                           </span><br><span class="line">P(S2);</span><br><span class="line">P(mutex);</span><br><span class="line">geteven();</span><br><span class="line">V(mutex);</span><br><span class="line">V(empty);</span><br><span class="line">countodd();</span><br><span class="line">end.</span><br></pre></td></tr></table></figure>


<p>2.某工厂有两个生产车间和一个装配车间,两个生产车间分别生产A、B两种零件,装配车间的任务是把A、B两种零件装配成产品。两个生产车间每生产一个零件后都要分别把它们送到装配车间的货架F1、F2上,F1存放零件A,F2存放零件B,F1与F2的容量均为可以存放10个零件。装配工人每次从货架上取一个A零件和一个B零件,然后组装成产品。请用:(1) 信号量和P、V操作</p>
<p>采用信号量和P、V操作(2) 管程,进行正确的管理。</p>
<p>（1）<strong>semaphore mutex, empty1, empty2, full1, full2;</strong></p>
<p><strong>mutex&#x3D;1; &#x2F;&#x2F;互斥信号量,用于互斥使用货架</strong></p>
<p><strong>empty1&#x3D;10; &#x2F;&#x2F;同步信号量,表示货架F1可容纳的零件数</strong></p>
<p><strong>empty2&#x3D;10; &#x2F;&#x2F;同步信号量,表示货架F2可容纳的零件数</strong></p>
<p><strong>full1&#x3D;0; &#x2F;&#x2F;同步信号量,表示货架F1已放的零件数</strong></p>
<p><strong>full2&#x3D;0; &#x2F;&#x2F;同步信号量,表示货架F1已放的零件数</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">parbegin</span><br><span class="line">process <span class="title function_">workerAi</span> <span class="params">( )</span> <span class="comment">//第一个生产车间的工人进程,i=1, 2, ... , n</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">生产一个零件A;</span><br><span class="line">P(empty1); <span class="comment">//测试货架F1是否可放零件A</span></span><br><span class="line">P(mutex);</span><br><span class="line">将一个零件A放到货架F1上;</span><br><span class="line">V(mutex);</span><br><span class="line">V(full1);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">process <span class="title function_">workerBj</span> <span class="params">( )</span> <span class="comment">//第二个生产车间的工人进程,j=1, 2, ... , m</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">生产一个零件B;</span><br><span class="line">P(empty2); <span class="comment">//测试货架F2是否可放零件B</span></span><br><span class="line">P(mutex);</span><br><span class="line">将一个零件B放到货架F2上</span><br><span class="line">V(mutex);</span><br><span class="line">V(full2);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">process <span class="title function_">workerCi</span> <span class="params">( )</span> <span class="comment">//装配车间的工人进程,i=1, 2, ... , k</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">P(full1); <span class="comment">//测试货架F1是否可放零件A</span></span><br><span class="line">P(mutex);</span><br><span class="line">从货架F1上取一个零件A</span><br><span class="line"><span class="title function_">V</span><span class="params">(mutex)</span>;</span><br><span class="line">V(empty);</span><br><span class="line">P(full2);</span><br><span class="line">P(mutex);</span><br><span class="line">从货架F2上取一个零件B</span><br><span class="line"><span class="title function_">V</span><span class="params">(mutex)</span>;</span><br><span class="line">V(empty);</span><br><span class="line">用零件A、B组装成一个产品;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">parend</span><br></pre></td></tr></table></figure>


<p>（2）管程</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">type PC=monitor</span><br><span class="line">var countA, countB : integer;</span><br><span class="line">CA, CB, CCA, CCB : condition;</span><br><span class="line">procedure putA( ) //往货架F1上放一个零件A</span><br><span class="line">begin</span><br><span class="line">if countA=10 then CA.wait;</span><br><span class="line">将一个零件A放到货架F1上;</span><br><span class="line">countA := countA+1;</span><br><span class="line">if CCA.queue then CCA.signal;</span><br><span class="line">end</span><br><span class="line">procedure putB( ) //往货架F2上放一个零件B</span><br><span class="line">begin</span><br><span class="line">if countB=10 then CB.wait;</span><br><span class="line">将一个零件B放到货架F2上;</span><br><span class="line">countB := countBA+1;</span><br><span class="line">if CCB.queue then CCB.signal;</span><br><span class="line">end</span><br><span class="line">procedure getA( ) //从货架F1上取一个零件A</span><br><span class="line">begin</span><br><span class="line">if countA=0 then CCA.wait;</span><br><span class="line">从货架F1上取一个零件A</span><br><span class="line">countA := countA-1;</span><br><span class="line">if CA.queue then CA.signal;</span><br><span class="line">end</span><br><span class="line">procedure getB( ) //从货架F2上取一个零件B</span><br><span class="line">begin</span><br><span class="line">if countB=0 then CCB.wait;</span><br><span class="line">从货架F2上取一个零件B</span><br><span class="line">countB := countB-1;</span><br><span class="line">if CB.queue then CB.signal;</span><br><span class="line">end</span><br><span class="line">begin</span><br><span class="line">countA := 0; countB := 0;</span><br><span class="line">end</span><br><span class="line">采用上述管程时,本问题的算法可描述如下:</span><br><span class="line">parbegin</span><br><span class="line">process workerAi ( ) //第一个生产车间的工人进程,i=1, 2, ... , n</span><br><span class="line">begin</span><br><span class="line">repeat</span><br><span class="line">生产一个零件A;</span><br><span class="line">PC.putA( ); //将一个零件A放到货架F1上</span><br><span class="line">until false</span><br><span class="line">end</span><br><span class="line">process workerBj ( ) //第二个生产车间的工人进程,j=1, 2, ... , m</span><br><span class="line">begin</span><br><span class="line">repeat</span><br><span class="line">生产一个零件B;</span><br><span class="line">PC.putB( ); //将一个零件B放到货架F2上</span><br><span class="line">until false</span><br><span class="line">end</span><br><span class="line">process workerCi ( ) //装配车间的工人进程,i=1, 2, ... , k</span><br><span class="line">begin</span><br><span class="line">repeat</span><br><span class="line">PC.getA( ); //从货架F1上取一个零件A</span><br><span class="line">PC.getB( ); //从货架F2上取一个零件B</span><br><span class="line">用零件A、B组装成一个产品;</span><br><span class="line">until false</span><br><span class="line">end</span><br><span class="line">parend</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://anewuserxw.github.io/2023/04/27/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Lost%20In%20Japan%20(Remix).jpg">
      <meta itemprop="name" content="WX">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="THE WHOLE">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Healer">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/04/27/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="post-title-link" itemprop="url">计算机网络</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-04-27 19:58:08" itemprop="dateCreated datePublished" datetime="2023-04-27T19:58:08+08:00">2023-04-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-05-01 12:05:53" itemprop="dateModified" datetime="2023-05-01T12:05:53+08:00">2023-05-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Network/" itemprop="url" rel="index"><span itemprop="name">Network</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>13</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="什么是Internet"><a href="#什么是Internet" class="headerlink" title="什么是Internet?"></a>什么是Internet?</h1><h1 id="网络边缘与网络核心"><a href="#网络边缘与网络核心" class="headerlink" title="网络边缘与网络核心"></a>网络边缘与网络核心</h1>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">WX</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">15k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">53 分钟</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/Anewuserxw" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  





</body>
</html>
